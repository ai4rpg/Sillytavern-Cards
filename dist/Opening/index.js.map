{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/compat get default export","src://tavern_helper_template/webpack/runtime/define property getters","src://tavern_helper_template/webpack/runtime/hasOwnProperty shorthand","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/external var \"_\"","src://tavern_helper_template/src/Opening/actions.ts","webpack://tavern_helper_template/./src/Opening/app.vue?0de2","webpack://tavern_helper_template/src/Opening/app.vue?2733","src://tavern_helper_template/src/Opening/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","const __WEBPACK_NAMESPACE_OBJECT__ = _;","import _ from 'lodash';\nimport abilitiesDB from './AbilitiesDB.json' assert { type: 'json' };\n\nconst PATHS = {\n  RESISTANCE: 'user.sex_statue.lust_resistance[0]',\n  ABILITIES: 'user.special_abilities[0]',\n  IDENTITY: 'user.profile.past_identity[0]',\n  BLESSING: 'user.profile.bless_old_gods[0]',\n  HOME: 'user.profile.home[0]',\n  PHASE_CHANGED: 'latent_variables.ejs_index.phase_changed[0]',\n  OPTION_DB: 'latent_variables.opening_options_db',\n};\n\nexport async function createStart(selections: {\n  livelihood: string;\n  god: string;\n  district: string;\n  resistance: string;\n}) {\n  if (\n    typeof Mvu === 'undefined' ||\n    typeof generate !== 'function' ||\n    typeof getChatMessages !== 'function' ||\n    typeof setChatMessages !== 'function' ||\n    typeof getLastMessageId !== 'function' ||\n    typeof updateVariablesWith !== 'function'\n  ) {\n    throw new Error('无法访问酒馆助手核心API。请确保酒馆助手 (Tavern Helper) 已安装并正确加载。');\n  }\n\n  await waitGlobalInitialized('Mvu');\n\n  // 1. Prepare the data based on user selections\n  const initialData = Mvu.getMvuData({ type: 'message', message_id: 0 });\n  if (!initialData || !initialData.stat_data) {\n    throw new Error('未在聊天变量中找到 stat_data。');\n  }\n\n  const chosenStatData = initialData.stat_data;\n\n  const abilitiesToAdd: string[] = [];\n  const { livelihood, god, district, resistance } = selections;\n\n  const resistanceAbility = (abilitiesDB.resistance as Record<string, any>)[resistance];\n  if (resistanceAbility) {\n    abilitiesToAdd.push(resistanceAbility);\n  }\n\n  const livelihoodAbilities = (abilitiesDB.livelihood as Record<string, any>)[livelihood];\n  if (livelihoodAbilities) {\n    const abilities = Array.isArray(livelihoodAbilities) ? livelihoodAbilities : [livelihoodAbilities];\n    abilitiesToAdd.push(...abilities);\n  }\n\n  _.set(chosenStatData, PATHS.IDENTITY, livelihood);\n  _.set(chosenStatData, PATHS.BLESSING, god);\n  _.set(chosenStatData, PATHS.HOME, district);\n  _.set(chosenStatData, PATHS.RESISTANCE, resistance);\n  _.set(chosenStatData, PATHS.ABILITIES, abilitiesToAdd);\n  _.set(chosenStatData, PATHS.PHASE_CHANGED, 0);\n  _.merge(initialData.stat_data, chosenStatData);\n\n  replaceVariables(initialData, { type: 'message', message_id: 0 });\n\n  // 2. Generate the AI response\n  const generatedResponse = await generate({ user_input: '' });\n\n  // 3. Get the newly created message\n  const latestMessage = getChatMessages(-1, { include_swipes: true })[0];\n\n  // 4. Prepare new swipes and their data\n  const newSwipes = [...latestMessage.swipes, generatedResponse + '\\n\\n<StatusPlaceHolderImpl/>'];\n\n  const newSwipeData = await Mvu.parseMessage(generatedResponse, initialData);\n\n  const newSwipesData = [...latestMessage.swipes_data, newSwipeData ? newSwipeData : initialData];\n\n  // 5. Update the message with the new swipe and data\n  await setChatMessages([\n    {\n      message_id: -1,\n      swipes: newSwipes,\n      swipes_data: newSwipesData,\n      swipe_id: latestMessage.swipes.length, // new swipe is at the end\n    },\n  ]);\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = { class: \"character-creation-container\" };\nconst _hoisted_2 = { class: \"hud-block\" };\nconst _hoisted_3 = {\n    class: \"selection-grid\",\n    id: \"group-livelihood\"\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = { class: \"option-title\" };\nconst _hoisted_6 = { class: \"option-description\" };\nconst _hoisted_7 = { class: \"hud-block\" };\nconst _hoisted_8 = {\n    class: \"selection-grid\",\n    id: \"group-god\"\n};\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = { class: \"option-title\" };\nconst _hoisted_11 = { class: \"option-description\" };\nconst _hoisted_12 = { class: \"hud-block\" };\nconst _hoisted_13 = {\n    class: \"selection-grid\",\n    id: \"group-district\"\n};\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = { class: \"option-title\" };\nconst _hoisted_16 = { class: \"option-description\" };\nconst _hoisted_17 = { class: \"hud-block\" };\nconst _hoisted_18 = {\n    class: \"selection-grid\",\n    id: \"group-resistance\"\n};\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = { class: \"option-title\" };\nconst _hoisted_21 = { class: \"option-description\" };\nconst _hoisted_22 = { class: \"confirm-button-container\" };\nconst _hoisted_23 = [\"disabled\"];\nimport { computed, reactive, ref } from 'vue';\nimport { createStart } from './actions';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'app',\n    setup(__props) {\n        const selections = reactive({\n            livelihood: '',\n            god: '',\n            district: '',\n            resistance: '',\n        });\n        const confirmButtonText = ref('这就是我了');\n        const isConfirming = ref(false);\n        const livelihoodOptions = [\n            { value: '侦探', title: '侦探', description: '失去了特殊能力的侦探，又获得了新的能力' },\n            { value: '医生', title: '医生', description: '作为精神科医生，与青梅竹马过着平静而幸福的日子' },\n            { value: '学生', title: '学生', description: '不仅仅是高中生，也是提尼的守护者' },\n            { value: '潜藏者', title: '潜藏者', description: '心口的烙印还在发烫，你知道自己被魔女盯上了…' },\n            { value: '画家', title: '画家', description: '凡间如幻梦，春秋如朝露，你还在捕捉着时光的影子' },\n            { value: '上班族', title: '上班族', description: '你得乘着地铁去上班，也得乘着地铁去拯救世界' },\n            {\n                value: '修习术法者',\n                title: '修习术法者',\n                description: '炼丹画符，避世清修，在特异点降临后，你发现它们与咒术同出一脉',\n            },\n            { value: '魔修', title: '魔修', description: '血炼池中蛰伏近千载，凡尘俗世本已于你无干' },\n            { value: '迷雾之人', title: '迷雾之人', description: '你的过往完全由自己定义…' },\n        ];\n        const godOptions = [\n            { value: '猫的庇护', title: '猫的庇护', description: '战争与领域之神' },\n            { value: '面庞的庇护', title: '面庞的庇护', description: '野心与灵魂之神' },\n            { value: '隐者的庇护', title: '隐者的庇护', description: '海与深渊之神' },\n        ];\n        const districtOptions = [\n            { value: '朝阳区', title: '朝阳区', description: '现代社会，由特异点带来的尖端科技与改造技术被掌握在少数人手中' },\n            { value: '回廊区', title: '回廊区', description: '被特异点摧毁过的城区，又被巫术与仪式重建' },\n            { value: '平云区', title: '平云区', description: '被特异点摧毁过的城区，被仙人与武者们修缮' },\n        ];\n        const resistanceOptions = [\n            { value: '丧失性欲', title: '丧失性欲', description: '你的身体连动情都做不到，当之无愧的色情侦探' },\n            {\n                value: '感觉遮蔽',\n                title: '“感觉遮蔽”',\n                description: '你的精神完全屏蔽了性欲，无法享受快感，但肉体受到刺激的表现正常',\n            },\n            { value: '只是很镇定', title: '只是很镇定', description: '你的精神韧性远高于其他人，但有着和正常人无二的性欲' },\n        ];\n        const allSelected = computed(() => {\n            return Object.values(selections).every(value => value !== null);\n        });\n        function selectOption(group, value) {\n            selections[group] = value;\n        }\n        async function handleConfirmation() {\n            isConfirming.value = true;\n            confirmButtonText.value = '正在生成...';\n            try {\n                await createStart(selections);\n            }\n            catch (error) {\n                console.error('角色创建失败:', error);\n                confirmButtonText.value = '错误！请检查控制台';\n                alert(`角色创建失败！ 错误详情: ${error.message} 请检查浏览器控制台(F12)获取更多信息。`);\n            }\n            finally {\n                isConfirming.value = false;\n            }\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _cache[4] || (_cache[4] = _createElementVNode(\"div\", { class: \"hud-block\" }, [\n                    _createElementVNode(\"h1\", { class: \"main-title\" }, \"镜中面容\"),\n                    _createElementVNode(\"div\", { class: \"intro-text\" }, [\n                        _createElementVNode(\"p\", null, \" 你被古神们选中，成为能够完全免疫色情化特异点的侦探，已经有一阵子了，提尼，这个繁荣而衰败的城市总是有着数不清的麻烦，色情案件滋生在城市的每个角落，而你的任务就是纠正它们，在行动力用尽前让案件失控值归零，否则，那特异点将会入侵现实，以平然化的方式侵入人们的日常生活。 \"),\n                        _createElementVNode(\"h2\", null, \"新的案件开始了……\"),\n                        _createElementVNode(\"p\", null, \"等等，但你还没有收拾妥当，不是吗？先仔细想想，你究竟是谁……\")\n                    ])\n                ], -1 /* CACHED */)),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _cache[0] || (_cache[0] = _createElementVNode(\"h3\", { class: \"hud-block-title\" }, \"你的过往\", -1 /* CACHED */)),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(livelihoodOptions, (option) => {\n                            return _createElementVNode(\"div\", {\n                                key: option.value,\n                                class: _normalizeClass([\"option-card\", { selected: selections.livelihood === option.value }]),\n                                onClick: ($event) => (selectOption('livelihood', option.value))\n                            }, [\n                                _createElementVNode(\"div\", _hoisted_5, _toDisplayString(option.title), 1 /* TEXT */),\n                                _createElementVNode(\"div\", _hoisted_6, _toDisplayString(option.description), 1 /* TEXT */)\n                            ], 10 /* CLASS, PROPS */, _hoisted_4);\n                        }), 64 /* STABLE_FRAGMENT */))\n                    ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_7, [\n                    _cache[1] || (_cache[1] = _createElementVNode(\"h3\", { class: \"hud-block-title\" }, \"你被哪位古神宠爱\", -1 /* CACHED */)),\n                    _createElementVNode(\"div\", _hoisted_8, [\n                        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(godOptions, (option) => {\n                            return _createElementVNode(\"div\", {\n                                key: option.value,\n                                class: _normalizeClass([\"option-card\", { selected: selections.god === option.value }]),\n                                onClick: ($event) => (selectOption('god', option.value))\n                            }, [\n                                _createElementVNode(\"div\", _hoisted_10, _toDisplayString(option.title), 1 /* TEXT */),\n                                _createElementVNode(\"div\", _hoisted_11, _toDisplayString(option.description), 1 /* TEXT */)\n                            ], 10 /* CLASS, PROPS */, _hoisted_9);\n                        }), 64 /* STABLE_FRAGMENT */))\n                    ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_12, [\n                    _cache[2] || (_cache[2] = _createElementVNode(\"h3\", { class: \"hud-block-title\" }, \"你肉体的栖身之所\", -1 /* CACHED */)),\n                    _createElementVNode(\"div\", _hoisted_13, [\n                        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(districtOptions, (option) => {\n                            return _createElementVNode(\"div\", {\n                                key: option.value,\n                                class: _normalizeClass([\"option-card\", { selected: selections.district === option.value }]),\n                                onClick: ($event) => (selectOption('district', option.value))\n                            }, [\n                                _createElementVNode(\"div\", _hoisted_15, _toDisplayString(option.title), 1 /* TEXT */),\n                                _createElementVNode(\"div\", _hoisted_16, _toDisplayString(option.description), 1 /* TEXT */)\n                            ], 10 /* CLASS, PROPS */, _hoisted_14);\n                        }), 64 /* STABLE_FRAGMENT */))\n                    ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_17, [\n                    _cache[3] || (_cache[3] = _createElementVNode(\"h3\", { class: \"hud-block-title\" }, \"你作为色情侦探的必备素质\", -1 /* CACHED */)),\n                    _createElementVNode(\"div\", _hoisted_18, [\n                        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(resistanceOptions, (option) => {\n                            return _createElementVNode(\"div\", {\n                                key: option.value,\n                                class: _normalizeClass([\"option-card\", { selected: selections.resistance === option.value }]),\n                                onClick: ($event) => (selectOption('resistance', option.value))\n                            }, [\n                                _createElementVNode(\"div\", _hoisted_20, _toDisplayString(option.title), 1 /* TEXT */),\n                                _createElementVNode(\"div\", _hoisted_21, _toDisplayString(option.description), 1 /* TEXT */)\n                            ], 10 /* CLASS, PROPS */, _hoisted_19);\n                        }), 64 /* STABLE_FRAGMENT */))\n                    ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_22, [\n                    _createElementVNode(\"button\", {\n                        class: \"confirm-button\",\n                        disabled: !allSelected.value || isConfirming.value,\n                        onClick: handleConfirmation\n                    }, _toDisplayString(confirmButtonText.value), 9 /* TEXT, PROPS */, _hoisted_23)\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./app.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./app.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./app.vue?vue&type=style&index=0&id=da2b6b2e&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue';\nimport app from './app.vue';\n\n$(() => {\n  createApp(app).mount('#app');\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Vue","_","PATHS","_hoisted_1","class","_hoisted_2","_hoisted_3","id","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","__name","setup","__props","selections","reactive","livelihood","god","district","resistance","confirmButtonText","ref","isConfirming","livelihoodOptions","value","title","description","godOptions","districtOptions","resistanceOptions","allSelected","computed","values","every","selectOption","group","async","handleConfirmation","Mvu","generate","getChatMessages","setChatMessages","getLastMessageId","updateVariablesWith","Error","waitGlobalInitialized","initialData","getMvuData","type","message_id","stat_data","chosenStatData","abilitiesToAdd","resistanceAbility","push","livelihoodAbilities","abilities","Array","isArray","replaceVariables","generatedResponse","user_input","latestMessage","include_swipes","newSwipes","swipes","newSwipeData","parseMessage","newSwipesData","swipes_data","swipe_id","length","createStart","error","console","alert","message","_ctx","_cache","option","selected","onClick","$event","disabled","$","createApp","app","mount"],"sourceRoot":""}