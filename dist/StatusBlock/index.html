<head><script type="module">var e={441:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,l]of t)a[e]=l;return a}}},t={};function a(l){var r=t[l];if(void 0!==r)return r.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const l=Vue,r=_;var n=a.n(r);const o={key:0,class:'error-message'},s={key:1,id:'detective-hud-root'},c={class:'hud-header'},d={class:'hud-time-date'},i={id:'hud-phase',class:'hud-phase'},u={class:'hud-grid',style:{'margin-top':'0'}},p={class:'hud-block'},m={class:'hud-data-item'},v={class:'hud-value'},g={class:'hud-data-item'},h={class:'hud-value hud-location-text'},y={class:'hud-data-item'},E={class:'hud-value hud-case-level'},N={class:'hud-block'},V={class:'hud-gauge-container'},f=['value'],k={class:'hud-gauge-text'},b={class:'hud-block',style:{'margin-top':'15px'}},x={class:'hud-gauge-container'},S=['value'],B={class:'hud-gauge-text'},D={class:'hud-grid',style:{'margin-top':'15px'}},w={class:'hud-block'},A={class:'hud-list'},q={class:'hud-value',style:{'white-space':'pre-wrap','text-align':'left','padding-left':'10px'}},C={class:'hud-block'},F={class:'hud-list'},M={class:'hud-label',style:{color:'var(--detective-cyan)'}},O={class:'hud-value',style:{'white-space':'pre-wrap','text-align':'left','padding-left':'10px'}},I={key:2},L=(0,l.defineComponent)({__name:'app',setup(e){const t=(0,l.ref)(null),a=(0,l.ref)(null);(0,l.onMounted)(async()=>{try{const e=await getChatMessages(getCurrentMessageId());if(!e||0===e.length||!e[0].data||!e[0].data.stat_data)throw new Error('无法加载状态数据。');t.value=e[0].data.stat_data}catch(e){a.value=`状态面板加载出错: ${e.message}`,console.error(e)}});const r=(0,l.computed)(()=>{const e=n().get(t.value,'world.current_case.difficulty_class[0]','未知');return 0===e?'':e}),L=(0,l.computed)(()=>{const e=n().get(t.value,'user.special_abilities[0]',[]);return Array.isArray(e)?e:[]}),P=(0,l.computed)(()=>{const e=n().get(t.value,'world.normalization_entries[0]',[]);return Array.isArray(e)?e:[]});function T(e){switch(e){case'普通':return'var(--text-dim)';case'稀有':return'var(--aq-green)';case'史诗':return'var(--aq-orange)';case'传说':return'var(--aq-gold)';default:return'var(--text-light)'}}return(e,j)=>a.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',o,(0,l.toDisplayString)(a.value),1)):t.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',s,[(0,l.createElementVNode)('div',c,[(0,l.createElementVNode)('div',d,[(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(n()).get(t.value,'world.time[0]','未知时间')),1),j[0]||(j[0]=(0,l.createTextVNode)(' // ',-1)),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(n()).get(t.value,'world.date[0]','未知日期')),1)]),(0,l.createElementVNode)('div',i,(0,l.toDisplayString)((0,l.unref)(n()).get(t.value,'user.current_phase[0]','未知阶段')),1)]),(0,l.createElementVNode)('div',u,[(0,l.createElementVNode)('div',p,[j[4]||(j[4]=(0,l.createElementVNode)('h3',{class:'hud-block-title'},'[ 案件信息 // Case Info ]',-1)),(0,l.createElementVNode)('div',m,[j[1]||(j[1]=(0,l.createElementVNode)('span',{class:'hud-label'},'当前案件:',-1)),(0,l.createElementVNode)('span',v,(0,l.toDisplayString)((0,l.unref)(n()).get(t.value,'world.current_case.case_name[0]','无')),1)]),(0,l.createElementVNode)('div',g,[j[2]||(j[2]=(0,l.createElementVNode)('span',{class:'hud-label'},'地点:',-1)),(0,l.createElementVNode)('span',h,(0,l.toDisplayString)((0,l.unref)(n()).get(t.value,'world.current_case.case_location[0]','未知地点')),1)]),(0,l.createElementVNode)('div',y,[j[3]||(j[3]=(0,l.createElementVNode)('span',{class:'hud-label'},'等级:',-1)),(0,l.createElementVNode)('span',E,(0,l.toDisplayString)(r.value),1)])]),(0,l.createElementVNode)('div',N,[j[6]||(j[6]=(0,l.createElementVNode)('h3',{class:'hud-block-title'},'[ 侦探状态 // Detective ]',-1)),(0,l.createElementVNode)('div',V,[j[5]||(j[5]=(0,l.createElementVNode)('div',{class:'hud-label'},'剩余行动力 (AP)',-1)),(0,l.createElementVNode)('progress',{value:(0,l.unref)(n()).get(t.value,'user.action_points[0]',0),max:'30'},null,8,f),(0,l.createElementVNode)('div',k,(0,l.toDisplayString)((0,l.unref)(n()).get(t.value,'user.action_points[0]',0))+' / 30',1)])])]),(0,l.createElementVNode)('div',b,[j[7]||(j[7]=(0,l.createElementVNode)('h3',{class:'hud-block-title',style:{color:'var(--erotic-pink)'}},'[ 失控值 // Reality Distortion ]',-1)),(0,l.createElementVNode)('div',x,[(0,l.createElementVNode)('progress',{value:(0,l.unref)(n()).get(t.value,'world.current_case.out_of_control[0]',0),max:'100'},null,8,S),(0,l.createElementVNode)('div',B,(0,l.toDisplayString)((0,l.unref)(n()).get(t.value,'world.current_case.out_of_control[0]',0))+' / 100',1)])]),(0,l.createElementVNode)('div',D,[(0,l.createElementVNode)('div',w,[j[8]||(j[8]=(0,l.createElementVNode)('h3',{class:'hud-block-title'},'[ 特殊能力 // Abilities ]',-1)),(0,l.createElementVNode)('div',A,[L.value.length>0?((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,{key:0},(0,l.renderList)(L.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:t,class:'hud-data-item',style:{display:'block','margin-bottom':'8px'}},[(0,l.createElementVNode)('span',{class:'hud-label',style:(0,l.normalizeStyle)({color:(0,l.unref)(n()).get(e,'is_used[0]',!1)?'var(--text-dim)':'var(--text-light)'})},(0,l.toDisplayString)((0,l.unref)(n()).get(e,'is_used[0]',!1)?'[已使用]':'')+(0,l.toDisplayString)((0,l.unref)(n()).get(e,'ability_name[0]','未知能力')),5),(0,l.createElementVNode)('span',{style:(0,l.normalizeStyle)({color:T((0,l.unref)(n()).get(e,'ability_quality[0]','品质不明'))})},(0,l.toDisplayString)((0,l.unref)(n()).get(e,'ability_quality[0]','品质不明')),5),(0,l.createElementVNode)('span',{style:(0,l.normalizeStyle)({color:(0,l.unref)(n()).get(e,'is_passive[0]',!1)?'var(--detective-cyan)':'var(--erotic-pink)'})},(0,l.toDisplayString)((0,l.unref)(n()).get(e,'is_passive[0]',!1)?'被动':'主动'),5),(0,l.createElementVNode)('span',q,(0,l.toDisplayString)((0,l.unref)(n()).get(e,'ability_description[0]','描述缺失')),1)]))),128)):((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createTextVNode)('无')],64))])]),(0,l.createElementVNode)('div',C,[j[9]||(j[9]=(0,l.createElementVNode)('h3',{class:'hud-block-title'},'[ 平然化条目 // Normalization ]',-1)),(0,l.createElementVNode)('div',F,[P.value.length>0?((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,{key:0},(0,l.renderList)(P.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:t,class:'hud-data-item',style:{display:'block','margin-bottom':'8px'}},[(0,l.createElementVNode)('span',M,(0,l.toDisplayString)((0,l.unref)(n()).get(e,'title[0]','名称缺失')),1),(0,l.createElementVNode)('span',O,'- '+(0,l.toDisplayString)((0,l.unref)(n()).get(e,'description[0]','影响未知')),1)]))),128)):((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createTextVNode)('无')],64))])])])])):((0,l.openBlock)(),(0,l.createElementBlock)('div',I,'Loading...'))}});const P=(0,a(441).A)(L,[['__scopeId','data-v-7f1e7e1e']]);$(()=>{(0,l.createApp)(P).mount('#app')});
//# sourceMappingURL=index.js.map</script><style>@import url(https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;500;700&family=Orbitron:wght@400;700&display=swap);
@keyframes ripple-effect-7f1e7e1e{0%{box-shadow:0 0 1px 1px rgba(0,255,255,.05)}70%{box-shadow:0 0 2px 5px rgba(0,255,255,.08)}100%{box-shadow:0 0 3px 7px rgba(0,255,255,0)}}#detective-hud-root[data-v-7f1e7e1e],.error-message[data-v-7f1e7e1e]{background-color:var(--bg-dark);color:var(--text-light);font-family:var(--font-main);padding:15px;margin:0;box-sizing:border-box}.error-message[data-v-7f1e7e1e]{color:red;padding:10px}#detective-hud-root[data-v-7f1e7e1e]{background:linear-gradient(145deg,var(--bg-dark),var(--bg-panel));border:1px solid var(--border-color);border-radius:8px;padding:18px;margin:15px 0;box-shadow:0 0 20px rgba(255,0,119,.2),0 4px 30px rgba(0,0,0,.5);position:relative;overflow:hidden;clip-path:polygon(0 10px,10px 0,calc(100% - 10px) 0,100% 10px,100% calc(100% - 10px),calc(100% - 10px) 100%,10px 100%,0 calc(100% - 10px))}#detective-hud-root[data-v-7f1e7e1e]::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-image:linear-gradient(0deg,rgba(0,0,0,0) 95%,rgba(255,255,255,0.05) 97%,rgba(0,0,0,0) 100%),linear-gradient(90deg,rgba(0,0,0,0) 95%,rgba(255,255,255,0.05) 97%,rgba(0,0,0,0) 100%);background-size:40px 40px;opacity:.3;pointer-events:none}.hud-header[data-v-7f1e7e1e]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--erotic-pink);padding-bottom:10px;margin-bottom:15px;text-shadow:var(--pink-glow);font-family:var(--font-hud)}.hud-time-date[data-v-7f1e7e1e]{font-size:1rem;color:var(--detective-cyan);text-shadow:var(--cyan-glow)}.hud-phase[data-v-7f1e7e1e]{font-size:.95rem;padding:3px 8px;border-radius:4px;font-weight:700;text-transform:uppercase;letter-spacing:1px}.hud-grid[data-v-7f1e7e1e]{display:grid;grid-template-columns:1fr 1fr;gap:15px}@media (max-width:600px){.hud-grid[data-v-7f1e7e1e]{grid-template-columns:1fr}}.hud-block[data-v-7f1e7e1e]{background:rgba(0,0,0,.3);border:1px solid rgba(0,255,255,.2);padding:12px;border-radius:5px;transition:border-color .5s ease-out}.hud-block[data-v-7f1e7e1e]:hover{border-color:var(--detective-cyan);animation:ripple-effect-7f1e7e1e .8s ease-out}.hud-block-title[data-v-7f1e7e1e]{font-family:var(--font-hud);color:var(--detective-cyan);font-size:.95rem;margin-bottom:8px;text-transform:uppercase;letter-spacing:1.5px;border-bottom:1px dashed rgba(0,255,255,.4);padding-bottom:4px}.hud-data-item[data-v-7f1e7e1e]{display:flex;justify-content:space-between;align-items:center;margin-bottom:5px;font-size:.85rem}.hud-label[data-v-7f1e7e1e]{color:var(--text-dim);flex-shrink:0;margin-right:10px}.hud-value[data-v-7f1e7e1e]{text-align:right;font-weight:500}.hud-location-text[data-v-7f1e7e1e]{color:var(--detective-cyan)}.hud-case-level[data-v-7f1e7e1e]{color:var(--erotic-pink);text-shadow:var(--pink-glow)}.hud-gauge-container[data-v-7f1e7e1e]{margin-top:10px}.hud-gauge-text[data-v-7f1e7e1e]{font-family:var(--font-hud);font-size:.8rem;margin-top:4px;text-align:center}.hud-list[data-v-7f1e7e1e]{font-size:.8rem;max-height:120px;overflow-y:auto;padding-right:5px;color:var(--text-light);white-space:pre-wrap}progress[data-v-7f1e7e1e]{-webkit-appearance:none;appearance:none;width:100%;height:15px;border-radius:3px;border:none;background:rgba(0,0,0,.25);box-shadow:inset 0 1px 3px rgba(0,0,0,.5);overflow:hidden}progress[data-v-7f1e7e1e]::-webkit-progress-bar{background:rgba(0,0,0,0)}progress[data-v-7f1e7e1e]::-webkit-progress-value{background:rgba(0,255,255,.25)}progress[data-v-7f1e7e1e]::-moz-progress-bar{background:rgba(0,255,255,.25)}
/*! tailwindcss v4.1.16 | MIT License | https://tailwindcss.com */:root{--erotic-pink:#ff0077;--pink-glow:0 0 8px rgba(255,0,119,0.5);--detective-cyan:#00ffff;--cyan-glow:0 0 8px rgba(0,255,255,0.5);--bg-dark:#10001a;--bg-panel:#2a0a3a;--border-color:rgba(255,0,119,0.3);--text-light:#f5f5f5;--text-dim:#b0a0c0;--aq-green:#44ff00;--aq-orange:#ff8000;--aq-gold:#ffcc00;--font-main:"Noto Sans SC",sans-serif}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>