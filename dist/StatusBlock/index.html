<head><script type="module">var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Vue,a=_;var l=e.n(a);const s={key:0,class:'error-message'},r={key:1,id:'detective-hud-root'},n={class:'hud-header'},c={class:'hud-time-date'},o={id:'hud-phase',class:'hud-phase'},d={key:0,class:'hud-grid',style:{'margin-top':'0'}},u={class:'hud-block'},i={class:'hud-data-item'},m={class:'hud-value'},p={class:'hud-data-item'},v={class:'hud-value hud-location-text'},g={class:'hud-data-item'},h={class:'hud-value hud-case-level'},E={class:'hud-block'},y={class:'hud-gauge-container'},N=['value'],V={class:'hud-gauge-text'},f={key:1,class:'hud-block',style:{'margin-top':'15px'}},k={class:'hud-gauge-container'},b=['value'],x={class:'hud-gauge-text'},S={class:'hud-grid',style:{'margin-top':'15px'}},D={class:'hud-block'},B={class:'hud-data-item'},w={class:'hud-value hud-location-text'},A={class:'hud-data-item'},C={class:'hud-value'},q={class:'hud-data-item'},F={class:'hud-value'},L={class:'hud-block'},M={class:'hud-data-item'},P={class:'hud-value'},I={class:'hud-gauge-container'},O=['value'],T={class:'hud-gauge-text'},j={class:'hud-gauge-container'},R=['value'],G={class:'hud-gauge-text'},H={class:'hud-grid',style:{'margin-top':'15px'}},J={class:'hud-block'},K={class:'hud-list'},Q={class:'hud-value',style:{'white-space':'pre-wrap','text-align':'left','padding-left':'10px'}},U={class:'hud-block'},W={class:'hud-list'},X={class:'hud-label',style:{color:'var(--detective-cyan)'}},Y={class:'hud-value',style:{'white-space':'pre-wrap','text-align':'left','padding-left':'10px'}},Z={key:2},ee=(0,t.defineComponent)({__name:'app',setup(e){const a=(0,t.ref)(null),ee=(0,t.ref)(null);(0,t.onMounted)(async()=>{try{const e=await getChatMessages(getCurrentMessageId());if(!e||0===e.length||!e[0].data||!e[0].data.stat_data)throw new Error('无法加载状态数据。');a.value=e[0].data.stat_data}catch(e){ee.value=`状态面板加载出错: ${e.message}`,console.error(e)}});const te=(0,t.computed)(()=>{const e=l().get(a.value,'world.current_case.difficulty_class[0]','');return 0===e?'':e}),ae=(0,t.computed)(()=>{const e=l().get(a.value,'user.special_abilities[0]',[]);return Array.isArray(e)?e:[]}),le=(0,t.computed)(()=>{const e=l().get(a.value,'world.normalization_entries[0]',[]);return Array.isArray(e)?e:[]});function se(e){switch(e){case'普通':return'var(--text-dim)';case'稀有':return'var(--aq-green)';case'史诗':return'var(--aq-orange)';case'传说':return'var(--aq-gold)';default:return'var(--text-light)'}}return(e,re)=>ee.value?((0,t.openBlock)(),(0,t.createElementBlock)('div',s,(0,t.toDisplayString)(ee.value),1)):a.value?((0,t.openBlock)(),(0,t.createElementBlock)('div',r,[(0,t.createElementVNode)('div',n,[(0,t.createElementVNode)('div',c,[(0,t.createElementVNode)('span',null,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'world.time[0]','未知时间')),1),re[0]||(re[0]=(0,t.createTextVNode)(' // ',-1)),(0,t.createElementVNode)('span',null,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'world.date[0]','未知日期')),1)]),(0,t.createElementVNode)('div',o,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'user.current_phase[0]','未知阶段')),1)]),'日常阶段'!==(0,t.unref)(l()).get(a.value,'user.current_phase[0]','未知阶段')?((0,t.openBlock)(),(0,t.createElementBlock)('div',d,[(0,t.createElementVNode)('div',u,[re[4]||(re[4]=(0,t.createElementVNode)('h3',{class:'hud-block-title'},'[ 案件信息 // Case Info ]',-1)),(0,t.createElementVNode)('div',i,[re[1]||(re[1]=(0,t.createElementVNode)('span',{class:'hud-label'},'当前案件:',-1)),(0,t.createElementVNode)('span',m,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'world.current_case.case_name[0]','无')),1)]),(0,t.createElementVNode)('div',p,[re[2]||(re[2]=(0,t.createElementVNode)('span',{class:'hud-label'},'案件地点:',-1)),(0,t.createElementVNode)('span',v,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'world.current_case.case_location[0]','未知地点')),1)]),(0,t.createElementVNode)('div',g,[re[3]||(re[3]=(0,t.createElementVNode)('span',{class:'hud-label'},'等级:',-1)),(0,t.createElementVNode)('span',h,(0,t.toDisplayString)(te.value),1)])]),(0,t.createElementVNode)('div',E,[re[6]||(re[6]=(0,t.createElementVNode)('h3',{class:'hud-block-title'},'[ 侦探状态 // Detective ]',-1)),(0,t.createElementVNode)('div',y,[re[5]||(re[5]=(0,t.createElementVNode)('div',{class:'hud-label'},'剩余行动力 (AP)',-1)),(0,t.createElementVNode)('progress',{value:(0,t.unref)(l()).get(a.value,'user.action_points[0]',0),max:'30'},null,8,N),(0,t.createElementVNode)('div',V,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'user.action_points[0]',0))+' / 30',1)])])])):(0,t.createCommentVNode)('v-if',!0),'日常阶段'!==(0,t.unref)(l()).get(a.value,'user.current_phase[0]','未知阶段')?((0,t.openBlock)(),(0,t.createElementBlock)('div',f,[re[7]||(re[7]=(0,t.createElementVNode)('h3',{class:'hud-block-title',style:{color:'var(--erotic-pink)'}},'[ 失控值 // Reality Distortion ]',-1)),(0,t.createElementVNode)('div',k,[(0,t.createElementVNode)('progress',{value:(0,t.unref)(l()).get(a.value,'world.current_case.out_of_control[0]',0),max:'100'},null,8,b),(0,t.createElementVNode)('div',x,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'world.current_case.out_of_control[0]',0))+' / 100',1)])])):(0,t.createCommentVNode)('v-if',!0),(0,t.createElementVNode)('div',S,[(0,t.createElementVNode)('div',D,[re[11]||(re[11]=(0,t.createElementVNode)('h3',{class:'hud-block-title'},'[ 个人信息 // Personal Info ]',-1)),(0,t.createElementVNode)('div',B,[re[8]||(re[8]=(0,t.createElementVNode)('span',{class:'hud-label'},'地点:',-1)),(0,t.createElementVNode)('span',w,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'user.location[0]','未知地点')),1)]),(0,t.createElementVNode)('div',A,[re[9]||(re[9]=(0,t.createElementVNode)('span',{class:'hud-label'},'身份:',-1)),(0,t.createElementVNode)('span',C,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'user.profile.past_identity[0]','未知过往')),1)]),(0,t.createElementVNode)('div',q,[re[10]||(re[10]=(0,t.createElementVNode)('span',{class:'hud-label'},'侦破案件数:',-1)),(0,t.createElementVNode)('span',F,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'user.profile.solved_cases_count[0]',0)),1)])]),(0,t.createElementVNode)('div',L,[re[15]||(re[15]=(0,t.createElementVNode)('h3',{class:'hud-block-title'},'[ 性状态 // Sex Status ]',-1)),(0,t.createElementVNode)('div',M,[re[12]||(re[12]=(0,t.createElementVNode)('span',{class:'hud-label'},'Lust Resistance:',-1)),(0,t.createElementVNode)('span',P,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'user.sex_statue.lust_resistance[0]','N/A')),1)]),(0,t.createElementVNode)('div',I,[re[13]||(re[13]=(0,t.createElementVNode)('div',{class:'hud-label'},'Body Excitement',-1)),(0,t.createElementVNode)('progress',{value:(0,t.unref)(l()).get(a.value,'user.sex_statue.body_excitement[0]',0),max:'100'},null,8,O),(0,t.createElementVNode)('div',T,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'user.sex_statue.body_excitement[0]',0))+' / 100',1)]),(0,t.createElementVNode)('div',j,[re[14]||(re[14]=(0,t.createElementVNode)('div',{class:'hud-label'},'Spiritual Desire',-1)),(0,t.createElementVNode)('progress',{value:(0,t.unref)(l()).get(a.value,'user.sex_statue.spiritual_desire[0]',0),max:'100'},null,8,R),(0,t.createElementVNode)('div',G,(0,t.toDisplayString)((0,t.unref)(l()).get(a.value,'user.sex_statue.spiritual_desire[0]',0))+' / 100',1)])])]),(0,t.createElementVNode)('div',H,[(0,t.createElementVNode)('div',J,[re[16]||(re[16]=(0,t.createElementVNode)('h3',{class:'hud-block-title'},'[ 特殊能力 // Abilities ]',-1)),(0,t.createElementVNode)('div',K,[ae.value.length>0?((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,{key:0},(0,t.renderList)(ae.value,(e,a)=>((0,t.openBlock)(),(0,t.createElementBlock)('div',{key:a,class:'hud-data-item',style:{display:'block','margin-bottom':'8px'}},[(0,t.createElementVNode)('span',{class:'hud-label',style:(0,t.normalizeStyle)({color:(0,t.unref)(l()).get(e,'is_used[0]',!1)?'var(--text-dim)':'var(--text-light)'})},(0,t.toDisplayString)((0,t.unref)(l()).get(e,'is_used[0]',!1)?'[已使用]':'')+(0,t.toDisplayString)((0,t.unref)(l()).get(e,'ability_name[0]','未知能力')),5),(0,t.createElementVNode)('span',{style:(0,t.normalizeStyle)({color:se((0,t.unref)(l()).get(e,'ability_quality[0]','品质不明'))})},(0,t.toDisplayString)((0,t.unref)(l()).get(e,'ability_quality[0]','品质不明')),5),(0,t.createElementVNode)('span',{style:(0,t.normalizeStyle)({color:(0,t.unref)(l()).get(e,'is_passive[0]',!1)?'var(--detective-cyan)':'var(--erotic-pink)'})},(0,t.toDisplayString)((0,t.unref)(l()).get(e,'is_passive[0]',!1)?'被动':'主动'),5),(0,t.createElementVNode)('span',Q,(0,t.toDisplayString)((0,t.unref)(l()).get(e,'ability_description[0]','描述缺失')),1)]))),128)):((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,{key:1},[(0,t.createTextVNode)('无')],64))])]),(0,t.createElementVNode)('div',U,[re[17]||(re[17]=(0,t.createElementVNode)('h3',{class:'hud-block-title'},'[ 平然化条目 // Normalization ]',-1)),(0,t.createElementVNode)('div',W,[le.value.length>0?((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,{key:0},(0,t.renderList)(le.value,(e,a)=>((0,t.openBlock)(),(0,t.createElementBlock)('div',{key:a,class:'hud-data-item',style:{display:'block','margin-bottom':'8px'}},[(0,t.createElementVNode)('span',X,(0,t.toDisplayString)((0,t.unref)(l()).get(e,'title[0]','名称缺失')),1),(0,t.createElementVNode)('span',Y,'- '+(0,t.toDisplayString)((0,t.unref)(l()).get(e,'description[0]','影响未知')),1)]))),128)):((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,{key:1},[(0,t.createTextVNode)('无')],64))])])])])):((0,t.openBlock)(),(0,t.createElementBlock)('div',Z,'Loading...'))}});$(()=>{(0,t.createApp)(ee).mount('#app')});
//# sourceMappingURL=index.js.map</script><style>@import url(https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;500;700&family=Orbitron:wght@400;700&display=swap);
/*! tailwindcss v4.1.16 | MIT License | https://tailwindcss.com */:root{--erotic-pink:#ff0077;--pink-glow:0 0 8px rgba(255,0,119,0.5);--detective-cyan:#00ffff;--cyan-glow:0 0 8px rgba(0,255,255,0.5);--bg-dark:#10001a;--bg-panel:#2a0a3a;--border-color:rgba(255,0,119,0.3);--text-light:#f5f5f5;--text-dim:#b0a0c0;--aq-green:#44ff00;--aq-orange:#ff8000;--aq-gold:#ffcc00;--font-main:"Noto Sans SC",sans-serif}@keyframes ripple-effect{0%{box-shadow:0 0 1px 1px rgba(0,255,255,.05)}70%{box-shadow:0 0 2px 5px rgba(0,255,255,.08)}100%{box-shadow:0 0 3px 7px rgba(0,255,255,0)}}#detective-hud-root,.error-message{background-color:var(--bg-dark);color:var(--text-light);font-family:var(--font-main);padding:15px;margin:0;box-sizing:border-box}.error-message{color:red;padding:10px}#detective-hud-root{background:linear-gradient(145deg,var(--bg-dark),var(--bg-panel));border:1px solid var(--border-color);border-radius:8px;padding:18px;margin:15px 0;box-shadow:0 0 20px rgba(255,0,119,.2),0 4px 30px rgba(0,0,0,.5);position:relative;overflow:hidden;clip-path:polygon(0 10px,10px 0,calc(100% - 10px) 0,100% 10px,100% calc(100% - 10px),calc(100% - 10px) 100%,10px 100%,0 calc(100% - 10px))}#detective-hud-root::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-image:linear-gradient(0deg,rgba(0,0,0,0) 95%,rgba(255,255,255,0.05) 97%,rgba(0,0,0,0) 100%),linear-gradient(90deg,rgba(0,0,0,0) 95%,rgba(255,255,255,0.05) 97%,rgba(0,0,0,0) 100%);background-size:40px 40px;opacity:.3;pointer-events:none}.hud-header{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--erotic-pink);padding-bottom:10px;margin-bottom:15px;text-shadow:var(--pink-glow);font-family:var(--font-hud)}.hud-time-date{font-size:1rem;color:var(--detective-cyan);text-shadow:var(--cyan-glow)}.hud-phase{font-size:.95rem;padding:3px 8px;border-radius:4px;font-weight:700;text-transform:uppercase;letter-spacing:1px}.hud-grid{display:grid;grid-template-columns:1fr 1fr;gap:15px}@media (max-width:600px){.hud-grid{grid-template-columns:1fr}}.hud-block{background:rgba(0,0,0,.3);border:1px solid rgba(0,255,255,.2);padding:12px;border-radius:5px;transition:border-color .5s ease-out}.hud-block:hover{border-color:var(--detective-cyan);animation:ripple-effect .8s ease-out}.hud-block-title{font-family:var(--font-hud);color:var(--detective-cyan);font-size:.95rem;margin-bottom:8px;text-transform:uppercase;letter-spacing:1.5px;border-bottom:1px dashed rgba(0,255,255,.4);padding-bottom:4px}.hud-data-item{display:flex;justify-content:space-between;align-items:center;margin-bottom:5px;font-size:.85rem}.hud-label{color:var(--text-dim);flex-shrink:0;margin-right:10px}.hud-value{text-align:right;font-weight:500}.hud-location-text{color:var(--detective-cyan)}.hud-case-level{color:var(--erotic-pink);text-shadow:var(--pink-glow)}.hud-gauge-container{margin-top:10px}.hud-gauge-text{font-family:var(--font-hud);font-size:.8rem;margin-top:4px;text-align:center}.hud-list{font-size:.8rem;max-height:120px;overflow-y:auto;padding-right:5px;color:var(--text-light);white-space:pre-wrap}progress{-webkit-appearance:none;appearance:none;width:100%;height:15px;border-radius:3px;border:none;background:rgba(0,0,0,.25);box-shadow:inset 0 1px 3px rgba(0,0,0,.5);overflow:hidden}progress::-webkit-progress-bar{background:rgba(0,0,0,0)}progress::-webkit-progress-value{background:rgba(0,255,255,.25)}progress::-moz-progress-bar{background:rgba(0,255,255,.25)}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>